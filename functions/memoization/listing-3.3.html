<!DOCTYPE html>
<html>
<head>
    <title>Memoizing previously computed values</title>
    <meta charset="utf-8">
    <link rel="stylesheet"
          type="text/css"
          href="assert.css">
    <link rel="stylesheet"
          type="text/css"
          href="../../core.css">
    <script src="assert.js"></script>
</head>
<body>
<script>
    function isPrime(value) {
        console.log(isPrime.answers);

        var noExisteObjetoCache = !isPrime.answers;
        console.log(noExisteObjetoCache);

        if (noExisteObjetoCache) {
            isPrime.answers = {};
        }

        var answer = isPrime.answers[value];
        console.log(answer);

        if (answer !== undefined) {
            return answer;
        }

        var prime = value !== 1;

        for (var i = 2; i < value; i++) {
            if (value % i === 0) {
                prime = false;
                break;
            }
        }

        return isPrime.answers[value] = prime;
    }

    assert(isPrime(5), "5 is prime!");
    assert(isPrime.answers[5], "The answer was cached!");
    assert(!isPrime(2), "2 isn't prime!");
</script>
<p>
    Ejemplo extraido del Libro Secrets_of_the_JavaScript_Ninja_Second.pdf - CHAPTER 3.2.2 - Self-memoizing functions
</p>

<ul>
    <li>Memoizing
        <ul>
            <li>Memoization allows the function to remember previously computed values, thereby improving the
                performance of subsequent invocations.
            </li>
            <li>Whenever a function computes its result, we store that result alongside the function arguments. In this
                way, when another invocation occurs for the same set of arguments, we can return the previously stored
                result, instead of calculating it anew.
            </li>
            <li>Memoization is particularly useful when performing calculations for animations, searching data that
                doesnâ€™t change that often, or any time-consuming math.
            </li>
        </ul>
    </li>
</ul>
</body>
</html>
