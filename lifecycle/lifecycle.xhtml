<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      lang="en">
<head>
    <title>Web app lifecycle</title>
    <style type="text/css">
        #first {
            color: green;
        }

        #second {
            color: red;
        }
    </style>
</head>
<body>
<script type="text/javascript">
    window.onload = function () {
        console.log("DOM ready!");
    };
</script>

<ul id="first">
    <!--Si este "ul" se coloca despues del script que viene a continuación,
    el script fallará al no encontrar el elemento con id "first"-->
</ul>

<script type="text/javascript">
    console.log("INICIO 1ER SCRIPT");

    function addMessage(element, message) {
        var messageElement = document.createElement("li");
        messageElement.textContent = message;
        element.appendChild(messageElement);
    }

    var first = document.getElementById("first");
    addMessage(first, "page loading");
</script>

<ul id="second"></ul>

<script type="text/javascript">
    console.log("INICIO 2DO SCRIPT");
    console.log("DESDE ESTE 2DO SCRIPT TAMBIEN PUEDO ACCEDER A LAS VARIABLES GLOBALES CREADAS EN EL 1ER SCRIPT");

    /* TAMBIEN SE PUEDE ASIGNAR UN EVENTO DE ESTA FORMA
     document.body.onmousemove = function () {
         var second = document.getElementById("second");
         addMessage(second, "Event: mousemove");
     };

     PERO DESPUES AL ASIGNAR OTRO EVENTO, AL MISMO OBJETO,  EL PRIMERO EVENTO QUEDARIA SOBREEESCRITO Y SE PERDERIA.

     ES POR ESTO QUE ES PREFERIBLE USAR  "addEventListener", EL CUAL NOS PERMITE AGREGAR TANTOS EVENTOS COMO QUERAMOS
     */

    document.body.addEventListener("mousemove", function () {
        var second = document.getElementById("second");
        addMessage(second, "Event: mousemove");
    });

    document.body.addEventListener("click", function () {
        var second = document.getElementById("second");
        addMessage(second, "Event: click");
    });
</script>
</body>
</html>
