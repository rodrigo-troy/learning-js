<!DOCTYPE html>
<html>
<head>
    <title>Binding a specific context to a function</title>
    <meta charset="utf-8">
    <script src="assert.js"></script>
    <link rel="stylesheet"
          type="text/css"
          href="assert.css">
</head>
<body>
<button id="test">Click Me!</button>
<script>
    function Button() {
        this.clicked = false;
        this.click = function () {
            console.log("this = " + this);
            this.clicked = true;
            assert(button.clicked, "The button has been clicked");
            assert(button === this, "button = this");
            assert(elem === this, "elem = this");
        }
    }

    var button = new Button();
    var elem = document.getElementById("test");
    elem.addEventListener("click", button.click);

    button.click();
    button.clicked = false;
</script>


<button id="test2">Click Me 2!</button>

<script>
    function Button2() {
        const that = this;
        this.clicked = false;
        this.click = function () {
            console.log("this = " + this);
            that.clicked = true;
            assert(button2.clicked, "The button has been clicked");
        }
    }

    var button2 = new Button2();
    const elem2 = document.getElementById("test2");
    test2.addEventListener("click", button2.click);
</script>

</body>
</html>
